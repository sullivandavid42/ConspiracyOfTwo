// Translation system for Conspiracy Of Two - New Design
const translations = {
    fr: {
        // Hero Section 1
        'hero.names': 'VINCENT PONTET & RIANNE OGINK',
        
        // Hero Section 2
        'hero.title': 'CONSPIRACY<br>OF TWO',
        'hero.description.p1': 'Conspiracy of Two est née de la rencontre entre deux passionnés issus de cultures différentes, un Français et une Néerlandaise, tous deux unis par leur amour du vin et le désir de créer quelque chose de rare.',
        'hero.description.p2': 'Notre ambition est de produire en Afrique du Sud des vins d\'exception, en mariant le savoir-faire acquis au fil de nos nombreuses expériences aux terroirs singuliers du Swartland, une région viticole d\'une richesse remarquable.',
        'hero.availability': 'Les vins seront disponibles au printemps 2027',
        
        // Founders Section
        'founders.rianne.name': 'RIANNE OGINK',
        'founders.rianne.bio': 'Ancienne sommelière au restaurant étoilé Michelin Zoldering à Amsterdam, Rianne a parcouru le monde pour explorer les grandes régions viticoles tout en obtenant son WSET Diploma (niveau 4). Son parcours l\'a menée du Château Smith Haut Lafitte et du Château Palmer à Bordeaux jusqu\'à Damascene en Afrique du Sud, avant de rejoindre le domaine Georges Vernay à Condrieu, où elle a travaillé récemment comme assistante œnologue.',
        'founders.vincent.name': 'VINCENT PONTET',
        'founders.vincent.bio': 'Né à Condrieu, au cœur du Rhône, Vincent cumule plus de vingt ans d\'expérience acquise dans des domaines emblématiques : E. Guigal dans le Rhône, Joseph Drouhin en Bourgogne, Giesen en Nouvelle-Zélande, Bimbadgen en Australie et Boekenhoutskloof en Afrique du Sud. Pour Vincent, le vin est un langage à part entière, un héritage millénaire qui raconte l\'histoire des hommes, des terroirs et du temps qui passe.',
        
        // Wines Section
        'wines.chenin': 'CHENIN BLANC',
        'wines.viognier': 'VIOGNIER',
        'wines.syrah': 'SYRAH',
        'wines.location': 'SWARTLAND, AFRIQUE DU SUD',
        
        // Adventure Section
        'adventure.title': 'REJOIGNEZ<br>NOTRE<br>AVENTURE',
        'adventure.subtitle': 'CROWDFUNDING',
        'adventure.text.p1': 'En janvier 2026, nous rejoindrons le Swartland, en Afrique du Sud, pour sélectionner du Chenin Blanc, du Viognier et de la Syrah auprès de vignerons que nous connaissons depuis de nombreuses années. Ainsi naîtra notre premier millésime, mis en bouteille un an plus tard, puis partagé avec vous au printemps 2027.',
        'adventure.text.p2': 'Le chemin est long, mais chaque étape compte. Avec votre soutien, Conspiracy of Two deviendra réalité, l\'aboutissement d\'une passion commune et surtout d\'un rêve de gamins.',
        
        // Crowdfunding Section
        'crowdfunding.title': 'SOUTENEZ NOTRE PROJET',
        'crowdfunding.intro': 'Choisissez votre niveau de participation et rejoignez l\'aventure Conspiracy of Two',
        'crowdfunding.toast.name': 'A TOAST FROM A FAR',
        'crowdfunding.toast.price': 'DONATION LIBRE',
        'crowdfunding.toast.description': 'Votre nom sera inscrit sur l\'un de nos fûts. Vous recevrez des mises à jour exclusives et des images des coulisses par e-mail.',
        'crowdfunding.history.name': 'BUVEZ AVEC NOUS',
        'crowdfunding.history.price': 'PRÉCOMMANDEZ VOS BOUTEILLES',
        'crowdfunding.history.description': '€ 120 - Mix carton 3 bouteilles<br>€ 240 - Mix carton 6 bouteilles<br>€ 370 - Mix carton 12 bouteilles',
        'crowdfunding.winedine.name': 'ADOPTEZ UN FÛT',
        'crowdfunding.winedine.price': 'À TRAVERS LES YEUX D\'UN VIGNERON',
        'crowdfunding.winedine.description': '€ 100 - Suivez le processus de vinification de votre fût. Vous recevrez des mises à jour régulières et des informations sur la vinification et l\'élevage de votre fût.',
        'crowdfunding.drink.name': 'WINE & DINE',
        'crowdfunding.drink.price': 'DÎNER FAÇON SOMMELIER',
        'crowdfunding.drink.description': '€ 200 - Recevez une façon sommelier exclusif avec nous à Condrieu (France) ou en Afrique du Sud (frais de voyage non inclus), accompagné de vins exclusifs de Viognier, de Chenin Blanc et de Syrah. Maximum 6 personnes par réservation.',
        'crowdfunding.barrel.name': 'EXPERIENCE THE CONSPIRACY',
        'crowdfunding.barrel.price': 'REJOIGNEZ-NOUS DANS LES VIGNES',
        'crowdfunding.barrel.description': '€ 450 - Passez une journée avec nous à Condrieu, en France, pour découvrir la version européenne du Viognier et de la Syrah. Le déjeuner et le transport depuis Lyon sont inclus.',
        'crowdfunding.experience.name': 'FAITES PARTIE DE LA CONSPIRATION',
        'crowdfunding.experience.price': 'UN FÛT À VOUS',
        'crowdfunding.experience.description': '€ 6900 p.p - Achetez votre fût (environ 250 bouteilles de vin au choix) et recevez vos bouteilles dans un coffret spécialisé.',
        'crowdfunding.tour.name': 'TOURNÉE PRIVÉE',
        'crowdfunding.tour.price': 'AVEC NOUS',
        'crowdfunding.tour.description': '€ 5000 p.p - Passez 5 jours en tournée privée avec nous. Nous découvrirons les régions viticoles d\'Afrique du Sud pour explorer nos cépages à travers différentes dégustations et visites. L\'hôtel, le transport et les déjeuners sont inclus (les billets d\'avion ne sont pas compris).',
        'crowdfunding.disclaimer.title': 'DISCLAIMER',
        'crowdfunding.disclaimer.wines': '*Les vins seront disponibles au printemps 2027',
        'crowdfunding.disclaimer.shipping': '*Les frais de transport ne sont pas inclus',
        'crowdfunding.contact.button': 'Contactez-nous',
        
        // Contact Section
        'contact.title': 'NOUS<br>CONTACTER',
        'contact.email': 'contact@conspiracyoftwo.com',
        'contact.instagram': 'conspiracy.of.two',
        'contact.address.line1': 'Riebeek Valley Wine Co',
        'contact.address.line2': 'Swartland, South Africa',
        'contact.form.name': 'Nom:',
        'contact.form.phone': 'Numéro de téléphone:',
        'contact.form.message': 'Votre message:',
        'contact.form.submit': 'ENVOYER'
    },
    
    en: {
        // Hero Section 1
        'hero.names': 'VINCENT PONTET & RIANNE OGINK',
        
        // Hero Section 2
        'hero.title': 'CONSPIRACY<br>OF TWO',
        'hero.description.p1': 'Conspiracy of Two was born from the meeting of two passionate individuals from different cultures, a Frenchman and a Dutchwoman, both united by their love of wine and the desire to create something rare.',
        'hero.description.p2': 'Our ambition is to produce exceptional wines in South Africa, combining the expertise acquired through our many experiences with the unique terroirs of Swartland, a wine region of remarkable richness.',
        'hero.availability': 'Wines will be available in spring 2027',
        
        // Founders Section
        'founders.rianne.name': 'RIANNE OGINK',
        'founders.rianne.bio': 'Former sommelier at Michelin-starred restaurant Zoldering in Amsterdam, Rianne has traveled the world to explore major wine regions while obtaining her WSET Diploma (level 4). Her journey took her from Château Smith Haut Lafitte and Château Palmer in Bordeaux to Damascene in South Africa, before joining the Georges Vernay estate in Condrieu, where she recently worked as assistant winemaker.',
        'founders.vincent.name': 'VINCENT PONTET',
        'founders.vincent.bio': 'Born in Condrieu, in the heart of the Rhône, Vincent has accumulated over twenty years of experience in iconic estates: E. Guigal in the Rhône, Joseph Drouhin in Burgundy, Giesen in New Zealand, Bimbadgen in Australia, and Boekenhoutskloof in South Africa. For Vincent, wine is a language in itself, a millennial heritage that tells the story of people, terroirs, and the passage of time.',
        
        // Wines Section
        'wines.chenin': 'CHENIN BLANC',
        'wines.viognier': 'VIOGNIER',
        'wines.syrah': 'SYRAH',
        'wines.location': 'SWARTLAND, SOUTH AFRICA',
        
        // Adventure Section
        'adventure.title': 'JOIN<br>OUR<br>ADVENTURE',
        'adventure.subtitle': 'CROWDFUNDING',
        'adventure.text.p1': 'In January 2026, we will join Swartland, South Africa, to select Chenin Blanc, Viognier, and Syrah from winemakers we have known for many years. This will give birth to our first vintage, bottled a year later, then shared with you in spring 2027.',
        'adventure.text.p2': 'The road is long, but every step counts. With your support, Conspiracy of Two will become reality, the culmination of a shared passion and above all a childhood dream.',
        
        // Crowdfunding Section
        'crowdfunding.title': 'SUPPORT OUR PROJECT',
        'crowdfunding.intro': 'Choose your level of participation and join the Conspiracy of Two adventure',
        'crowdfunding.toast.name': 'A TOAST FROM A FAR',
        'crowdfunding.toast.price': 'FREE DONATION',
        'crowdfunding.toast.description': 'Your name will be inscribed on one of our barrels. You will receive exclusive updates and behind-the-scenes images by email.',
        'crowdfunding.history.name': 'DRINK WITH US',
        'crowdfunding.history.price': 'PRE-ORDER YOUR BOTTLES',
        'crowdfunding.history.description': '€ 120 - Mixed case 3 bottles<br>€ 240 - Mixed case 6 bottles<br>€ 370 - Mixed case 12 bottles',
        'crowdfunding.winedine.name': 'ADOPT A BARREL',
        'crowdfunding.winedine.price': 'THROUGH THE EYES OF A WINEMAKER',
        'crowdfunding.winedine.description': '€ 100 - Follow the winemaking process of your barrel. You will receive regular updates and information on the vinification and aging of your barrel.',
        'crowdfunding.drink.name': 'WINE & DINE',
        'crowdfunding.drink.price': 'SOMMELIER-STYLE DINNER',
        'crowdfunding.drink.description': '€ 200 - Receive an exclusive sommelier experience with us in Condrieu (France) or South Africa (travel costs not included), accompanied by exclusive wines of Viognier, Chenin Blanc and Syrah. Maximum 6 people per reservation.',
        'crowdfunding.barrel.name': 'EXPERIENCE THE CONSPIRACY',
        'crowdfunding.barrel.price': 'JOIN US IN THE VINEYARDS',
        'crowdfunding.barrel.description': '€ 450 - Spend a day with us in Condrieu, France, to discover the European version of Viognier and Syrah. Lunch and transport from Lyon are included.',
        'crowdfunding.experience.name': 'BE PART OF THE CONSPIRACY',
        'crowdfunding.experience.price': 'A BARREL FOR YOU',
        'crowdfunding.experience.description': '€ 6900 p.p - Buy your barrel (approximately 250 bottles of wine of your choice) and receive your bottles in a specialized case.',
        'crowdfunding.tour.name': 'PRIVATE TOUR',
        'crowdfunding.tour.price': 'WITH US',
        'crowdfunding.tour.description': '€ 5000 p.p - Spend 5 days on a private tour with us. We will discover the wine regions of South Africa to explore our grape varieties through different tastings and visits. Hotel, transport, and lunches are included (flight tickets not included).',
        'crowdfunding.disclaimer.title': 'DISCLAIMER',
        'crowdfunding.disclaimer.wines': '*Wines will be available in spring 2027',
        'crowdfunding.disclaimer.shipping': '*Shipping costs are not included',
        'crowdfunding.contact.button': 'Contact us',
        
        // Contact Section
        'contact.title': 'CONTACT<br>US',
        'contact.email': 'contact@conspiracyoftwo.com',
        'contact.instagram': 'conspiracy.of.two',
        'contact.address.line1': 'Riebeek Valley Wine Co',
        'contact.address.line2': 'Swartland, South Africa',
        'contact.form.name': 'Name:',
        'contact.form.phone': 'Phone number:',
        'contact.form.message': 'Your message:',
        'contact.form.submit': 'SEND'
    },
    
    nl: {
        // Hero Section 1
        'hero.names': 'VINCENT PONTET & RIANNE OGINK',
        
        // Hero Section 2
        'hero.title': 'CONSPIRACY<br>OF TWO',
        'hero.description.p1': 'Conspiracy of Two is ontstaan uit de ontmoeting van twee gepassioneerde mensen uit verschillende culturen, een Fransman en een Nederlandse, beiden verenigd door hun liefde voor wijn en de wens om iets zeldzaams te creëren.',
        'hero.description.p2': 'Onze ambitie is om uitzonderlijke wijnen te produceren in Zuid-Afrika, door de expertise die we door onze vele ervaringen hebben opgedaan te combineren met de unieke terroirs van Swartland, een wijnstreek van opmerkelijke rijkdom.',
        'hero.availability': 'Wijnen zullen beschikbaar zijn in het voorjaar van 2027',
        
        // Founders Section
        'founders.rianne.name': 'RIANNE OGINK',
        'founders.rianne.bio': 'Voormalig sommelier bij het Michelin-sterrenrestaurant Zoldering in Amsterdam, Rianne heeft de wereld bereisd om grote wijnregio\'s te verkennen terwijl ze haar WSET Diploma (niveau 4) behaalde. Haar reis bracht haar van Château Smith Haut Lafitte en Château Palmer in Bordeaux naar Damascene in Zuid-Afrika, voordat ze zich aansloot bij het landgoed Georges Vernay in Condrieu, waar ze onlangs werkte als assistent-wijnmaker.',
        'founders.vincent.name': 'VINCENT PONTET',
        'founders.vincent.bio': 'Geboren in Condrieu, in het hart van de Rhône, heeft Vincent meer dan twintig jaar ervaring opgedaan in iconische landgoederen: E. Guigal in de Rhône, Joseph Drouhin in Bourgondië, Giesen in Nieuw-Zeeland, Bimbadgen in Australië en Boekenhoutskloof in Zuid-Afrika. Voor Vincent is wijn een taal op zich, een duizendjarig erfgoed dat het verhaal vertelt van mensen, terroirs en het verstrijken van de tijd.',
        
        // Wines Section
        'wines.chenin': 'CHENIN BLANC',
        'wines.viognier': 'VIOGNIER',
        'wines.syrah': 'SYRAH',
        'wines.location': 'SWARTLAND, ZUID-AFRIKA',
        
        // Adventure Section
        'adventure.title': 'SLUIT JE AAN<br>BIJ ONS<br>AVONTUUR',
        'adventure.subtitle': 'CROWDFUNDING',
        'adventure.text.p1': 'In januari 2026 gaan we naar Swartland, Zuid-Afrika, om Chenin Blanc, Viognier en Syrah te selecteren van wijnmakers die we al vele jaren kennen. Zo ontstaat onze eerste vintage, een jaar later gebotteld en vervolgens in het voorjaar van 2027 met jullie gedeeld.',
        'adventure.text.p2': 'De weg is lang, maar elke stap telt. Met jullie steun wordt Conspiracy of Two werkelijkheid, de bekroning van een gedeelde passie en vooral een kinderdroom.',
        
        // Crowdfunding Section
        'crowdfunding.title': 'STEUN ONS PROJECT',
        'crowdfunding.intro': 'Kies je niveau van deelname en sluit je aan bij het Conspiracy of Two avontuur',
        'crowdfunding.toast.name': 'A TOAST FROM A FAR',
        'crowdfunding.toast.price': 'VRIJE DONATIE',
        'crowdfunding.toast.description': 'Je naam wordt ingeschreven op een van onze vaten. Je ontvangt exclusieve updates en beelden achter de schermen per e-mail.',
        'crowdfunding.history.name': 'DRINK MET ONS',
        'crowdfunding.history.price': 'BESTEL JE FLESSEN VOORAF',
        'crowdfunding.history.description': '€ 120 - Gemengde doos 3 flessen<br>€ 240 - Gemengde doos 6 flessen<br>€ 370 - Gemengde doos 12 flessen',
        'crowdfunding.winedine.name': 'ADOPTEER EEN VAT',
        'crowdfunding.winedine.price': 'DOOR DE OGEN VAN EEN WIJNMAKER',
        'crowdfunding.winedine.description': '€ 100 - Volg het wijnmaakproces van je vat. Je ontvangt regelmatige updates en informatie over de vinificatie en rijping van je vat.',
        'crowdfunding.drink.name': 'WINE & DINE',
        'crowdfunding.drink.price': 'DINER OP SOMMELIER-WIJZE',
        'crowdfunding.drink.description': '€ 200 - Ontvang een exclusieve sommelier-ervaring met ons in Condrieu (Frankrijk) of Zuid-Afrika (reiskosten niet inbegrepen), vergezeld van exclusieve wijnen van Viognier, Chenin Blanc en Syrah. Maximaal 6 personen per reservering.',
        'crowdfunding.barrel.name': 'EXPERIENCE THE CONSPIRACY',
        'crowdfunding.barrel.price': 'SLUIT JE BIJ ONS AAN IN DE WIJNGAARDEN',
        'crowdfunding.barrel.description': '€ 450 - Breng een dag door met ons in Condrieu, Frankrijk, om de Europese versie van Viognier en Syrah te ontdekken. Lunch en vervoer vanuit Lyon zijn inbegrepen.',
        'crowdfunding.experience.name': 'MAAK DEEL UIT VAN DE CONSPIRACY',
        'crowdfunding.experience.price': 'EEN VAT VOOR JOU',
        'crowdfunding.experience.description': '€ 6900 p.p - Koop je vat (ongeveer 250 flessen wijn naar keuze) en ontvang je flessen in een gespecialiseerde kist.',
        'crowdfunding.tour.name': 'PRIVÉTOUR',
        'crowdfunding.tour.price': 'MET ONS',
        'crowdfunding.tour.description': '€ 5000 p.p - Breng 5 dagen door op een privétour met ons. We ontdekken de wijnregio\'s van Zuid-Afrika om onze druivenrassen te verkennen door verschillende proeverijen en bezoeken. Hotel, vervoer en lunches zijn inbegrepen (vliegtickets niet inbegrepen).',
        'crowdfunding.disclaimer.title': 'DISCLAIMER',
        'crowdfunding.disclaimer.wines': '*Wijnen zullen beschikbaar zijn in het voorjaar van 2027',
        'crowdfunding.disclaimer.shipping': '*Verzendkosten zijn niet inbegrepen',
        'crowdfunding.contact.button': 'Neem contact op',
        
        // Contact Section
        'contact.title': 'NEEM<br>CONTACT OP',
        'contact.email': 'contact@conspiracyoftwo.com',
        'contact.instagram': 'conspiracy.of.two',
        'contact.address.line1': 'Riebeek Valley Wine Co',
        'contact.address.line2': 'Swartland, Zuid-Afrika',
        'contact.form.name': 'Naam:',
        'contact.form.phone': 'Telefoonnummer:',
        'contact.form.message': 'Jouw bericht:',
        'contact.form.submit': 'VERZENDEN'
    }
};

// Function to detect user's preferred language
function detectUserLanguage() {
    // 1. Check URL parameter (?lang=en)
    const urlParams = new URLSearchParams(window.location.search);
    const urlLang = urlParams.get('lang');
    if (urlLang && translations[urlLang]) {
        return urlLang;
    }
    
    // 2. Detect browser language
    const browserLanguages = navigator.languages || [navigator.language || navigator.userLanguage];
    
    for (let browserLang of browserLanguages) {
        const langCode = browserLang.split('-')[0].toLowerCase();
        
        if (translations[langCode]) {
            return langCode;
        }
        
        // Special cases
        if (browserLang.toLowerCase().includes('en')) {
            return 'en';
        }
        if (browserLang.toLowerCase().includes('nl') || browserLang.toLowerCase().includes('be')) {
            return 'nl';
        }
        if (browserLang.toLowerCase().includes('fr') || browserLang.toLowerCase().includes('ca')) {
            return 'fr';
        }
    }
    
    // 3. Check localStorage
    const savedLanguage = localStorage.getItem('conspiracyoftwo-language');
    if (savedLanguage && translations[savedLanguage]) {
        return savedLanguage;
    }
    
    // 4. Default to French
    return 'fr';
}

// Current language state
let currentLanguage = detectUserLanguage();

// Translation function
function t(key) {
    return translations[currentLanguage][key] || key;
}

// Change language function
function changeLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        localStorage.setItem('conspiracyoftwo-language', lang);
        updatePageContent();
        updateLanguageSelector();
    }
}

// Update all page content
function updatePageContent() {
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = t(key);
        
        if (element.tagName === 'INPUT' && element.type === 'submit') {
            element.value = translation;
        } else if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translation;
        } else if (element.tagName === 'LABEL') {
            element.textContent = translation;
        } else {
            element.innerHTML = translation;
        }
    });
    
    document.documentElement.lang = currentLanguage;
}

// Update language selector active state
function updateLanguageSelector() {
    const selectors = document.querySelectorAll('.language-selector button');
    selectors.forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === currentLanguage) {
            btn.classList.add('active');
        }
    });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    updatePageContent();
    updateLanguageSelector();
    
    // Add event listeners to language buttons
    const languageButtons = document.querySelectorAll('.language-selector button');
    languageButtons.forEach(button => {
        button.addEventListener('click', () => {
            const lang = button.getAttribute('data-lang');
            changeLanguage(lang);
        });
    });
});
